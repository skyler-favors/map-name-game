import{aX as Ut,gD as jt,aU as ct}from"./index-15bfda31.js";import{d as Xt}from"./debounce-00dc07ae.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const Dt=["top","right","bottom","left"],wt=["start","end"],yt=Dt.reduce((t,e)=>t.concat(e,e+"-"+wt[0],e+"-"+wt[1]),[]),X=Math.min,_=Math.max,Q=Math.round,K=Math.floor,W=t=>({x:t,y:t}),Yt={left:"right",right:"left",bottom:"top",top:"bottom"},qt={start:"end",end:"start"};function at(t,e,n){return _(t,X(e,n))}function U(t,e){return typeof t=="function"?t(e):t}function M(t){return t.split("-")[0]}function D(t){return t.split("-")[1]}function Ft(t){return t==="x"?"y":"x"}function dt(t){return t==="y"?"height":"width"}function ot(t){return["top","bottom"].includes(M(t))?"y":"x"}function gt(t){return Ft(ot(t))}function kt(t,e,n){n===void 0&&(n=!1);const i=D(t),o=gt(t),s=dt(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=J(r)),[r,J(r)]}function Gt(t){const e=J(t);return[Z(t),e,Z(e)]}function Z(t){return t.replace(/start|end/g,e=>qt[e])}function Kt(t,e,n){const i=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?s:r;default:return[]}}function Qt(t,e,n,i){const o=D(t);let s=Kt(M(t),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),e&&(s=s.concat(s.map(Z)))),s}function J(t){return t.replace(/left|right|bottom|top/g,e=>Yt[e])}function Zt(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mt(t){return typeof t!="number"?Zt(t):{top:t,right:t,bottom:t,left:t}}function tt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function xt(t,e,n){let{reference:i,floating:o}=t;const s=ot(e),r=gt(e),c=dt(r),l=M(e),a=s==="y",d=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,g=i[c]/2-o[c]/2;let f;switch(l){case"top":f={x:d,y:i.y-o.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:u};break;case"left":f={x:i.x-o.width,y:u};break;default:f={x:i.x,y:i.y}}switch(D(e)){case"start":f[r]-=g*(n&&a?-1:1);break;case"end":f[r]+=g*(n&&a?-1:1);break}return f}const Jt=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,c=s.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(e));let a=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=xt(a,i,l),g=i,f={},m=0;for(let p=0;p<c.length;p++){const{name:x,fn:h}=c[p],{x:w,y:v,data:O,reset:y}=await h({x:d,y:u,initialPlacement:i,placement:g,strategy:o,middlewareData:f,rects:a,platform:r,elements:{reference:t,floating:e}});if(d=w??d,u=v??u,f={...f,[x]:{...f[x],...O}},y&&m<=50){m++,typeof y=="object"&&(y.placement&&(g=y.placement),y.rects&&(a=y.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):y.rects),{x:d,y:u}=xt(a,g,l)),p=-1;continue}}return{x:d,y:u,placement:g,strategy:o,middlewareData:f}};async function q(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:r,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:g=!1,padding:f=0}=U(e,t),m=Mt(f),x=c[g?u==="floating"?"reference":"floating":u],h=tt(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:a,rootBoundary:d,strategy:l})),w=u==="floating"?{...r.floating,x:i,y:o}:r.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),O=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},y=tt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:v,strategy:l}):w);return{top:(h.top-y.top+m.top)/O.y,bottom:(y.bottom-h.bottom+m.bottom)/O.y,left:(h.left-y.left+m.left)/O.x,right:(y.right-h.right+m.right)/O.x}}const te=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:s,platform:r,elements:c}=e,{element:l,padding:a=0}=U(t,e)||{};if(l==null)return{};const d=Mt(a),u={x:n,y:i},g=gt(o),f=dt(g),m=await r.getDimensions(l),p=g==="y",x=p?"top":"left",h=p?"bottom":"right",w=p?"clientHeight":"clientWidth",v=s.reference[f]+s.reference[g]-u[g]-s.floating[f],O=u[g]-s.reference[g],y=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l));let b=y?y[w]:0;(!b||!await(r.isElement==null?void 0:r.isElement(y)))&&(b=c.floating[w]||s.floating[f]);const E=v/2-O/2,k=b/2-m[f]/2-1,C=X(d[x],k),A=X(d[h],k),P=C,V=b-m[f]-A,R=b/2-m[f]/2+E,L=at(P,R,V),$=D(o)!=null&&R!=L&&s.reference[f]/2-(R<P?C:A)-m[f]/2<0?R<P?P-R:V-R:0;return{[g]:u[g]-$,data:{[g]:L,centerOffset:R-L+$}}}});function ee(t,e,n){return(t?[...n.filter(o=>D(o)===t),...n.filter(o=>D(o)!==t)]:n.filter(o=>M(o)===o)).filter(o=>t?D(o)===t||(e?Z(o)!==o:!1):!0)}const ne=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o;const{rects:s,middlewareData:r,placement:c,platform:l,elements:a}=e,{crossAxis:d=!1,alignment:u,allowedPlacements:g=yt,autoAlignment:f=!0,...m}=U(t,e),p=u!==void 0||g===yt?ee(u||null,f,g):g,x=await q(e,m),h=((n=r.autoPlacement)==null?void 0:n.index)||0,w=p[h];if(w==null)return{};const v=kt(w,s,await(l.isRTL==null?void 0:l.isRTL(a.floating)));if(c!==w)return{reset:{placement:p[0]}};const O=[x[M(w)],x[v[0]],x[v[1]]],y=[...((i=r.autoPlacement)==null?void 0:i.overflows)||[],{placement:w,overflows:O}],b=p[h+1];if(b)return{data:{index:h+1,overflows:y},reset:{placement:b}};const E=y.map(A=>{const P=D(A.placement);return[A.placement,P&&d?A.overflows.slice(0,2).reduce((V,R)=>V+R,0):A.overflows[0],A.overflows]}).sort((A,P)=>A[1]-P[1]),C=((o=E.filter(A=>A[2].slice(0,D(A[0])?2:3).every(P=>P<=0))[0])==null?void 0:o[0])||E[0][0];return C!==c?{data:{index:h+1,overflows:y},reset:{placement:C}}:{}}}},vt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:i,middlewareData:o,rects:s,initialPlacement:r,platform:c,elements:l}=e,{mainAxis:a=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...p}=U(t,e),x=M(i),h=M(r)===r,w=await(c.isRTL==null?void 0:c.isRTL(l.floating)),v=u||(h||!m?[J(r)]:Gt(r));!u&&f!=="none"&&v.push(...Qt(r,m,f,w));const O=[r,...v],y=await q(e,p),b=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(a&&b.push(y[x]),d){const P=kt(i,s,w);b.push(y[P[0]],y[P[1]])}if(E=[...E,{placement:i,overflows:b}],!b.every(P=>P<=0)){var k,C;const P=(((k=o.flip)==null?void 0:k.index)||0)+1,V=O[P];if(V)return{data:{index:P,overflows:E},reset:{placement:V}};let R=(C=E.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:C.placement;if(!R)switch(g){case"bestFit":{var A;const L=(A=E.map(I=>[I.placement,I.overflows.filter($=>$>0).reduce(($,zt)=>$+zt,0)]).sort((I,$)=>I[1]-$[1])[0])==null?void 0:A[0];L&&(R=L);break}case"initialPlacement":R=r;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function bt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ot(t){return Dt.some(e=>t[e]>=0)}const ie=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=U(t,e);switch(i){case"referenceHidden":{const s=await q(e,{...o,elementContext:"reference"}),r=bt(s,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:Ot(r)}}}case"escaped":{const s=await q(e,{...o,altBoundary:!0}),r=bt(s,n.floating);return{data:{escapedOffsets:r,escaped:Ot(r)}}}default:return{}}}}};async function oe(t,e){const{placement:n,platform:i,elements:o}=t,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=M(n),c=D(n),l=ot(n)==="y",a=["left","top"].includes(r)?-1:1,d=s&&l?-1:1,u=U(e,t);let{mainAxis:g,crossAxis:f,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return c&&typeof m=="number"&&(f=c==="end"?m*-1:m),l?{x:f*d,y:g*a}:{x:g*a,y:f*d}}const re=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:i}=e,o=await oe(e,t);return{x:n+o.x,y:i+o.y,data:o}}}},se=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:x=>{let{x:h,y:w}=x;return{x:h,y:w}}},...l}=U(t,e),a={x:n,y:i},d=await q(e,l),u=ot(M(o)),g=Ft(u);let f=a[g],m=a[u];if(s){const x=g==="y"?"top":"left",h=g==="y"?"bottom":"right",w=f+d[x],v=f-d[h];f=at(w,f,v)}if(r){const x=u==="y"?"top":"left",h=u==="y"?"bottom":"right",w=m+d[x],v=m-d[h];m=at(w,m,v)}const p=c.fn({...e,[g]:f,[u]:m});return{...p,data:{x:p.x-n,y:p.y-i}}}}};function H(t){return Bt(t)?(t.nodeName||"").toLowerCase():"#document"}function T(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function N(t){var e;return(e=(Bt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Bt(t){return t instanceof Node||t instanceof T(t).Node}function B(t){return t instanceof Element||t instanceof T(t).Element}function F(t){return t instanceof HTMLElement||t instanceof T(t).HTMLElement}function At(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof T(t).ShadowRoot}function G(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=S(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function ce(t){return["table","td","th"].includes(H(t))}function mt(t){const e=ht(),n=S(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function le(t){let e=Y(t);for(;F(e)&&!rt(e);){if(mt(e))return e;e=Y(e)}return null}function ht(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rt(t){return["html","body","#document"].includes(H(t))}function S(t){return T(t).getComputedStyle(t)}function st(t){return B(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Y(t){if(H(t)==="html")return t;const e=t.assignedSlot||t.parentNode||At(t)&&t.host||N(t);return At(e)?e.host:e}function Nt(t){const e=Y(t);return rt(e)?t.ownerDocument?t.ownerDocument.body:t.body:F(e)&&G(e)?e:Nt(e)}function et(t,e){var n;e===void 0&&(e=[]);const i=Nt(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=T(i);return o?e.concat(s,s.visualViewport||[],G(i)?i:[]):e.concat(i,et(i))}function $t(t){const e=S(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=F(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,c=Q(n)!==s||Q(i)!==r;return c&&(n=s,i=r),{width:n,height:i,$:c}}function pt(t){return B(t)?t:t.contextElement}function j(t){const e=pt(t);if(!F(e))return W(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:s}=$t(e);let r=(s?Q(n.width):n.width)/i,c=(s?Q(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const ae=W(0);function Wt(t){const e=T(t);return!ht()||!e.visualViewport?ae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==T(t)?!1:e}function z(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=pt(t);let r=W(1);e&&(i?B(i)&&(r=j(i)):r=j(t));const c=fe(s,n,i)?Wt(s):W(0);let l=(o.left+c.x)/r.x,a=(o.top+c.y)/r.y,d=o.width/r.x,u=o.height/r.y;if(s){const g=T(s),f=i&&B(i)?T(i):i;let m=g.frameElement;for(;m&&i&&f!==g;){const p=j(m),x=m.getBoundingClientRect(),h=S(m),w=x.left+(m.clientLeft+parseFloat(h.paddingLeft))*p.x,v=x.top+(m.clientTop+parseFloat(h.paddingTop))*p.y;l*=p.x,a*=p.y,d*=p.x,u*=p.y,l+=w,a+=v,m=T(m).frameElement}}return tt({width:d,height:u,x:l,y:a})}function ue(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=F(n),s=N(n);if(n===s)return e;let r={scrollLeft:0,scrollTop:0},c=W(1);const l=W(0);if((o||!o&&i!=="fixed")&&((H(n)!=="body"||G(s))&&(r=st(n)),F(n))){const a=z(n);c=j(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-r.scrollLeft*c.x+l.x,y:e.y*c.y-r.scrollTop*c.y+l.y}}function de(t){return Array.from(t.getClientRects())}function Ht(t){return z(N(t)).left+st(t).scrollLeft}function ge(t){const e=N(t),n=st(t),i=t.ownerDocument.body,o=_(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=_(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+Ht(t);const c=-n.scrollTop;return S(i).direction==="rtl"&&(r+=_(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:c}}function me(t,e){const n=T(t),i=N(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,c=0,l=0;if(o){s=o.width,r=o.height;const a=ht();(!a||a&&e==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:c,y:l}}function he(t,e){const n=z(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=F(t)?j(t):W(1),r=t.clientWidth*s.x,c=t.clientHeight*s.y,l=o*s.x,a=i*s.y;return{width:r,height:c,x:l,y:a}}function Pt(t,e,n){let i;if(e==="viewport")i=me(t,n);else if(e==="document")i=ge(N(t));else if(B(e))i=he(e,n);else{const o=Wt(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return tt(i)}function Vt(t,e){const n=Y(t);return n===e||!B(n)||rt(n)?!1:S(n).position==="fixed"||Vt(n,e)}function pe(t,e){const n=e.get(t);if(n)return n;let i=et(t).filter(c=>B(c)&&H(c)!=="body"),o=null;const s=S(t).position==="fixed";let r=s?Y(t):t;for(;B(r)&&!rt(r);){const c=S(r),l=mt(r);!l&&c.position==="fixed"&&(o=null),(s?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||G(r)&&!l&&Vt(t,r))?i=i.filter(d=>d!==r):o=c,r=Y(r)}return e.set(t,i),i}function we(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const r=[...n==="clippingAncestors"?pe(e,this._c):[].concat(n),i],c=r[0],l=r.reduce((a,d)=>{const u=Pt(e,d,o);return a.top=_(u.top,a.top),a.right=X(u.right,a.right),a.bottom=X(u.bottom,a.bottom),a.left=_(u.left,a.left),a},Pt(e,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ye(t){return $t(t)}function xe(t,e,n){const i=F(e),o=N(e),s=n==="fixed",r=z(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=W(0);if(i||!i&&!s)if((H(e)!=="body"||G(o))&&(c=st(e)),i){const a=z(e,!0,s,e);l.x=a.x+e.clientLeft,l.y=a.y+e.clientTop}else o&&(l.x=Ht(o));return{x:r.left+c.scrollLeft-l.x,y:r.top+c.scrollTop-l.y,width:r.width,height:r.height}}function Et(t,e){return!F(t)||S(t).position==="fixed"?null:e?e(t):t.offsetParent}function It(t,e){const n=T(t);if(!F(t))return n;let i=Et(t,e);for(;i&&ce(i)&&S(i).position==="static";)i=Et(i,e);return i&&(H(i)==="html"||H(i)==="body"&&S(i).position==="static"&&!mt(i))?n:i||le(t)||n}const ve=async function(t){let{reference:e,floating:n,strategy:i}=t;const o=this.getOffsetParent||It,s=this.getDimensions;return{reference:xe(e,await o(n),i),floating:{x:0,y:0,...await s(n)}}};function be(t){return S(t).direction==="rtl"}const ft={convertOffsetParentRelativeRectToViewportRelativeRect:ue,getDocumentElement:N,getClippingRect:we,getOffsetParent:It,getElementRects:ve,getClientRects:de,getDimensions:ye,getScale:j,isElement:B,isRTL:be};function Oe(t,e){let n=null,i;const o=N(t);function s(){clearTimeout(i),n&&n.disconnect(),n=null}function r(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const{left:a,top:d,width:u,height:g}=t.getBoundingClientRect();if(c||e(),!u||!g)return;const f=K(d),m=K(o.clientWidth-(a+u)),p=K(o.clientHeight-(d+g)),x=K(a),w={rootMargin:-f+"px "+-m+"px "+-p+"px "+-x+"px",threshold:_(0,X(1,l))||1};let v=!0;function O(y){const b=y[0].intersectionRatio;if(b!==l){if(!v)return r();b?r(!1,b):i=setTimeout(()=>{r(!1,1e-7)},100)}v=!1}try{n=new IntersectionObserver(O,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(O,w)}n.observe(t)}return r(!0),s}function Ae(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,a=pt(t),d=o||s?[...a?et(a):[],...et(e)]:[];d.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});const u=a&&c?Oe(a,n):null;let g=-1,f=null;r&&(f=new ResizeObserver(h=>{let[w]=h;w&&w.target===a&&f&&(f.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{f&&f.observe(e)})),n()}),a&&!l&&f.observe(a),f.observe(e));let m,p=l?z(t):null;l&&x();function x(){const h=z(t);p&&(h.x!==p.x||h.y!==p.y||h.width!==p.width||h.height!==p.height)&&n(),p=h,m=requestAnimationFrame(x)}return n(),()=>{d.forEach(h=>{o&&h.removeEventListener("scroll",n),s&&h.removeEventListener("resize",n)}),u&&u(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const Pe=(t,e,n)=>{const i=new Map,o={platform:ft,...n},s={...o.platform,_c:i};return Jt(t,e,{...o,platform:s})};function Ee(t){return Re(t)}function lt(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function Re(t){for(let e=t;e;e=lt(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=lt(t);e;e=lt(e)){if(!(e instanceof Element))continue;const n=getComputedStyle(e);if(n.display!=="contents"&&(n.position!=="static"||n.filter!=="none"||e.tagName==="BODY"))return e}return null}(function(){{const e=ft.getOffsetParent;ft.getOffsetParent=n=>e(n,Ee)}})();const _t=async(t,{referenceEl:e,floatingEl:n,overlayPositioning:i="absolute",placement:o,flipDisabled:s,flipPlacements:r,offsetDistance:c,offsetSkidding:l,arrowEl:a,type:d})=>{var O;if(!e||!n)return null;const{x:u,y:g,placement:f,strategy:m,middlewareData:p}=await Pe(e,n,{strategy:i,placement:o==="auto"||o==="auto-start"||o==="auto-end"?void 0:Ce(n,o),middleware:Se({placement:o,flipDisabled:s,flipPlacements:r,offsetDistance:c,offsetSkidding:l,arrowEl:a,type:d})});if(a&&p.arrow){const{x:y,y:b}=p.arrow,E=f.split("-")[0],k=y!=null?"left":"top",C=De[E],A={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout=E==="left"||E==="right"?"horizontal":"vertical"),Object.assign(a.style,{...A,[k]:`${k=="left"?y:b}px`,[E]:"100%",transform:C})}const h=((O=p.hide)==null?void 0:O.referenceHidden)?"hidden":null,w=h?"none":null;n.setAttribute(Te,f);const v=`translate(${Math.round(u)}px,${Math.round(g)}px)`;Object.assign(n.style,{visibility:h,pointerEvents:w,position:m,top:"0",left:"0",transform:v})},Te="data-placement",Rt=100,Tt=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],Ne={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function Se({placement:t,flipDisabled:e,flipPlacements:n,offsetDistance:i,offsetSkidding:o,arrowEl:s,type:r}){const c=[se(),ie()];if(r==="menu")return[...c,vt({fallbackPlacements:n||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(r==="popover"||r==="tooltip"){const l=[...c,re({mainAxis:typeof i=="number"?i:0,crossAxis:typeof o=="number"?o:0})];return t==="auto"||t==="auto-start"||t==="auto-end"?l.push(ne({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||l.push(vt(n?{fallbackPlacements:n}:{})),s&&l.push(te({element:s})),l}return[]}function $e(t,e){const n=t.filter(i=>Tt.includes(i));return n.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Tt.map(i=>`"${i}"`).join(", ").trim()}`,{el:e}),n}function Ce(t,e){const n=["left","right"];return Ut(t)==="rtl"&&n.reverse(),e.replace(/leading/gi,n[0]).replace(/trailing/gi,n[1])}async function We(t,e,n=!1){return t.open?(n?Le(t):_t)(t,e):void 0}function Le(t){let e=nt.get(t);return e||(e=Xt(_t,Rt,{leading:!0,maxWait:Rt}),nt.set(t,e),e)}const De={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},ut=new WeakMap,nt=new WeakMap;function He(t,e,n){if(!n||!e)return;Fe(t,e,n),Object.assign(n.style,{visibility:"hidden",pointerEvents:"none",position:t.overlayPositioning,top:"0",left:"0"});const i=Ae;ut.set(t,i(e,n,()=>t.reposition()))}function Fe(t,e,n){var i,o;!n||!e||((i=ut.get(t))==null||i(),ut.delete(t),(o=nt.get(t))==null||o.cancel(),nt.delete(t))}const St=4,Ve=Math.ceil(Math.hypot(St,St));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */function it(t){return"opened"in t?t.opened:t.open}function Ct(t,e=!1){(e?t[t.transitionProp]:it(t))?t.onBeforeOpen():t.onBeforeClose(),(e?t[t.transitionProp]:it(t))?t.onOpen():t.onClose()}function Ie(t,e=!1){jt(()=>{if(t.transitionEl){let a=function(u){u.propertyName===t.openTransitionProp&&u.target===t.transitionEl&&(clearTimeout(l),t.transitionEl.removeEventListener("transitionstart",a),(e?t[t.transitionProp]:it(t))?t.onBeforeOpen():t.onBeforeClose())},d=function(u){u.propertyName===t.openTransitionProp&&u.target===t.transitionEl&&((e?t[t.transitionProp]:it(t))?t.onOpen():t.onClose(),t.transitionEl.removeEventListener("transitionend",d),t.transitionEl.removeEventListener("transitioncancel",d))};const{transitionDuration:n,transitionProperty:i}=getComputedStyle(t.transitionEl),o=n.split(","),r=i.split(",").indexOf(t.openTransitionProp),c=o[r]??o[0];if(c==="0s"){Ct(t,e);return}const l=setTimeout(()=>{t.transitionEl.removeEventListener("transitionstart",a),t.transitionEl.removeEventListener("transitionend",d),t.transitionEl.removeEventListener("transitioncancel",d),Ct(t,e)},parseFloat(c)*1e3);t.transitionEl.addEventListener("transitionstart",a),t.transitionEl.addEventListener("transitionend",d),t.transitionEl.addEventListener("transitioncancel",d)}})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const Lt={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},ke={width:12,height:6,strokeWidth:1},_e=({floatingLayout:t,key:e,ref:n})=>{const{width:i,height:o,strokeWidth:s}=ke,r=i/2,c=t==="vertical",l=`M0,0 H${i} L${i-r},${o} Q${r},${o} ${r},${o} Z`;return ct("svg",{"aria-hidden":"true",class:Lt.arrow,height:i,key:e,ref:n,viewBox:`0 0 ${i} ${i+(c?0:s)}`,width:i+(c?s:0)},s>0&&ct("path",{class:Lt.arrowStroke,d:l,fill:"none","stroke-width":s+1}),ct("path",{d:l,stroke:"none"}))};export{Ne as F,Fe as a,_e as b,He as c,Ve as d,$e as f,Ie as o,We as r};
